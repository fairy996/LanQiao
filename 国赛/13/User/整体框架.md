# 第十三届国赛
## 数码管
- 频率界面
  - F 频率（6位，不足6位左侧熄灭）
  - 单位有HZ和KHZ两种
  - **KHZ的小数点位置如何考虑**
- 湿度界面
  - H 湿度数据
  - 湿度数据保留整数（2位）
- 测距界面
  - A 距离
  - 单位为cm时，为三位显示，位数不足，左侧熄灭
  - 单位为m时，三位显示，保留小数点后两位
- 参数界面
  - 频率参数
    - P1 频率参数
    - 频率参数为KHZ，保留小数点后1位
    - 参数范围为1.0K-12.0K
  - 湿度参数
    - P2 湿度参数
    - 适度参数为整数，范围为10-60%
  - 距离参数
    - P3 距离参数
    - 单位为m，保留小数点后1位
    - 参数范围0.1m-1.2m
## 按键(独立按键模式)
- S4
  - 界面切换按键
  - 频率--->湿度--->测距--->参数--->频率
- S5
  - 参数界面切换按键，仅在参数界面下有效
  - 频率参数-->湿度参数--->距离参数
- S6
  - 加按键
    - 频率参数状态下，频率参数+0.5K
    - 湿度参数状态下，适度参数+10%
    - 距离参数状态下，距离参数+0.1m
  - 切换
    - 在测距界面下切换距离显示单位
    - cm--->m--->cm
- S7
  - 减按键
    - 频率参数状态下，频率参数-0.5K
    - 湿度参数状态下，适度参数-10%
    - 距离参数状态下，距离参数-0.1m
  - 切换   
    - 在频率界面下，切换频率显示单位
    - HZ--->KHZ--->HZ
  - 清零
    - 在湿度界面下，长按S7超过1s，清零继电器统计次数
- 注意
  - 每次进入频率界面时默认为频率参数
  - 物极必反，参数同理
## 湿度
- 湿度与电位器所采集到的电压成正比例，湿度 = V / 255 * 100;
## DAC输出
- 湿度低于湿度参数时输出1.0V
- 湿度高于80%时输出5V
- 其间 输出电压 = （湿度 - 湿度参数）* (4 / (80 - 湿度参数)) + 1
## LED
- L1
  - 频率界面，L1点亮
  - 频率参数界面L1以0.1s为间隔闪烁
- L2
  - 湿度界面，L2点亮
  - 湿度参数界面L2以0.1s为间隔闪烁
- L3
  - 测距界面，L3点亮
  - 测距参数界面L3以0.1s为间隔闪烁
- L4
  - 频率大于频率参数时，L4点亮
  - 频率小于频率参数时，L4熄灭
- L5
  - 湿度大于湿度参数时，L5点亮
  - 湿度小于湿度参数时，L5熄灭
- L6
  - 距离大于距离参数时，L6点亮
  - 距离小于距离参数时，L6熄灭
## EEPROM
- 统计继电器开关次数，将其保留在E2PROM地址中
## 继电器
- 测量距离大于距离参数，继电器吸合，否则继电器断开
## 脉冲输出
- 频率大于频率参数,电机驱动引脚输出1KHZ，占空比为80%的脉冲信号，否则为20%
## 初始状态
- 频率显示界面
- 距离单位cm
- 频率单位Hz
- 频率参数9k
- 湿度参数40%
- 距离参数0.6m